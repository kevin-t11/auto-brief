#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo "ğŸ” Running lint and format checks with Bun..."

# Run lint-staged and format checks
if bun x lint-staged && bun run format:check; then
  echo "âœ… Lint and format checks passed!"
  
  echo "ğŸ“¦ Building the project with Bun..."
  if bun run build; then
    echo "âœ… Build passed!"
  else
    echo "âŒ Build failed. Commit aborted."
    exit 1
  fi

else
  echo "âŒ Lint or format checks failed. Commit aborted."
  exit 1
fi
